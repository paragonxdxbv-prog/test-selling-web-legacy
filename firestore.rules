rules_version = '2';
service cloud.firestore {
  match /databases/{database}/documents {
    // Products collection - public read, admin write
    match /products/{productId} {
      allow read: if true;
      allow write: if true; // Admin can manage products
      allow create, update, delete: if true; // Full product management
    }
    
    // Content collection (about page, values, rules) - public read, admin write
    match /content/{document} {
      allow read: if true; // Public can read about content, values, rules
      allow write: if true; // Admin can edit all content
      allow create, update, delete: if true; // Full content management
    }
    
    // Settings collection - public read, admin write  
    match /settings/{document} {
      allow read: if true;
      allow write: if true; // Admin can modify settings
    }
    
    // Admin logs and analytics
    match /admin_logs/{logId} {
      allow read, write: if true; // Admin activity tracking
    }
    
    match /analytics/{document} {
      allow read, write: if true; // Analytics data
    }
    
    // User data and reviews
    match /users/{userId} {
      allow read, write: if true; // User management
    }
    
    match /reviews/{reviewId} {
      allow read: if true; // Public can read reviews
      allow write: if true; // Admin can moderate reviews
    }
    
    // AI generation logs
    match /ai_logs/{logId} {
      allow read, write: if true; // AI usage tracking
    }
    
    // Shopping carts
    match /carts/{userId} {
      allow read, write: if true; // Cart management
    }
    
    // Catch-all for any other collections
    match /{document=**} {
      allow read: if true; // Public read access
      allow write: if true; // Admin write access
    }
  }
}
